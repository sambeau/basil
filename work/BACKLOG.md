---
updated 2026-02-14
---

# Backlog

Deferred items from implementation, to be picked up in future work.

## High Priority
| ID | Item | Source | Reason Deferred | Notes |
|----|------|--------|-----------------|-------|
| #87 | Fix error handler tests (expect HTML, get plain text) | Code cleanup | Tests incorrect for current behavior | Tests `TestHandleScriptError_DevMode`, `TestHandleScriptErrorWithLocation_*`, `TestRenderPreludeError_*`, `TestHandle500` expect HTML responses but code returns plain text when prelude templates fail to render. Either tests need updating to match current plain-text fallback behavior, or code needs fixing to return HTML in all cases. Tests also needed `stderr: io.Discard` fix for nil pointer. |
| #1 | Query DSL Interpolation Syntax `{expression}` | PLAN-052 Phase 1 | Foundational change | Resolves ambiguity between columns and variables. Design states "Bare identifiers are columns, `{...}` are Parsley expressions". Affects entire DSL parsing. See FEAT-079-gaps.md. |
| #2 | Query DSL Correlated Subqueries | PLAN-052 Phase 5 | High complexity (3-4 days) | Computed fields from subqueries: `\| comment_count <-Comments \|\| post_id == id \| count`. Requires scalar context detection, aliasing, SQL generation. See FEAT-079-gaps.md. |
| #3 | Query DSL CTEs | PLAN-052 Phase 6 | High complexity (3-4 days) | CTE-style named subqueries: `Tags as food_tags \| topic == "food"`. Requires multi-block parsing, reference resolution, SQL WITH clause. See FEAT-079-gaps.md. |
| #4 | Query DSL Join-like Subqueries | PLAN-052 Phase 7 | High complexity (2-3 days) | Scalar vs join subquery context (`?->` vs `??->`). Requires context propagation, row expansion semantics. See FEAT-079-gaps.md. |
| #5 | Notification API (basil.email.send) | FEAT-084 Phase 3 | Parsley integration complexity | Developer-initiated emails from Parsley handlers. Requires: (1) Parsley namespace design (`basil.email`), (2) Go function exposure to evaluator, (3) Thread-safe EmailService access, (4) Developer rate limiting (50/hr, 200/day). See ADR-001. Core verification flow is complete; this is enhancement for custom emails. |
| #7 | Complete structured error migration | FEAT-023 | Phase 6+ | Migrate remaining files: other `stdlib_*.go` modules (not present yet). Core evaluator files and stdlib_table.go done. Note: `builtins.go` has been removed/refactored. |


## Medium Priority
| ID | Item | Source | Reason Deferred | Notes |
|----|------|--------|-----------------|-------|
| #101 | Phase 2: Temperature units (K, C, F) | FEAT-118 | Separate phase | Temperature stored as K × 900 sub-units. Special arithmetic rules: add/subtract allowed, multiply/divide are errors (offset scales). `#0C == #32F`. Requires new `TempUnit` or flag on `Unit`, plus error messages explaining *why* multiplication is undefined. |
| #102 | Phase 2: Volume units (mL, L, floz, cup, pt, qt, gal) | FEAT-118 | Separate phase | Volume family with SI (mL, L) and US (floz, cup, pt, qt, gal) suffixes. Cross-system bridge: 1 gal = 3.785411784 L (exact). Same architecture as length/mass. |
| #103 | Phase 3: Area units (mm2, cm2, m2, km2, in2, ft2, yd2, ac, mi2) | FEAT-118 | Separate phase | Area as its own family (not derived from length × length). Cross-system bridge: 1 in² = 0.00064516 m² (exact). |
| #104 | Phase 4: Compound display formatting (5' 3+1/4", 2lb 5oz) | FEAT-118 | Polish phase | Display units in compound form (feet+inches, pounds+ounces). Requires display logic to split a value across two units. |
| #105 | Phase 4: Derived unit arithmetic (unit × unit → area) | FEAT-118 | Polish phase | `#5m * #3m` → area. Requires new derived-unit type and arithmetic rules. Only implement if demanded. |
| #106 | Tree-sitter grammar updates for unit literal highlighting | FEAT-118 | Tooling | Add `#` + number + suffix pattern to tree-sitter grammar for syntax highlighting in editors. |
| #107 | Overflow detection for unit arithmetic | FEAT-118 | Edge case | Verify int64 limits are checked in all arithmetic paths. Max representable distance is ~77 AU. Should produce clear error, not silent wraparound. |

| ID | Item | Source | Reason Deferred | Notes |
|----|------|--------|-----------------|-------|
| #88 | Unicode identifier support (hybrid lexer) | FEAT-103 | ~1 day work | Enable `let π = 3.14` with hybrid byte/rune lexer. Performance-gated: benchmark before, implement on branch, benchmark after—merge only if <5% regression. See `work/specs/FEAT-103.md` and `work/reports/LEXER-UNICODE-ANALYSIS.md`. |
| #9 | SQLite session store | FEAT-049 | Phase 2 | Cookie sessions have ~4KB limit. SQLite store for larger session data. Server-side sessions with session ID in cookie. Includes cleanup goroutine for expired sessions. |
| #10 | Session auth integration | FEAT-049 | Phase 3 | Auto-regenerate session ID on login/logout for security. `basil.auth.login()` and `basil.auth.logout()` should call `session.regenerate()`. |
| #12 | Form `target=` partial updates (Turbo-style) | Rails UX | Needs design | Allow `<Form target="#id">` to replace element content without full page reload. Challenges: (1) How handler knows to return fragment vs full page, (2) Layout wrapping behavior, (3) Works differently for filepath vs config routing, (4) Where/how to inject the ~20 lines of JS. High UX value but needs architectural thought. See `work/design/rails-inspired-ux.md`. |
| #13 | Per-route caching in site mode | FEAT-040 | Needs design | Site mode has no way to configure cache TTL per index.pars. Routes mode has `cache:` per route. Options: comment directive in index.pars, basil.yaml section per path pattern, or runtime config via `basil.http.response.cache`. |
| #14 | Auth integration in site mode | FEAT-040 | Needs design | Site mode has no way to specify auth requirements per handler. Routes mode has `auth:` per route. Options: comment directive in index.pars, basil.yaml section per path pattern, or check `basil.auth.user` in handler and redirect/error manually. |
| #15 | CSRF middleware for site mode protected paths | FEAT-076 | Needs design | Routes mode applies CSRF validation middleware for protected paths. Site mode does not—handlers must manually validate using `basil.csrf.token`. Options: (1) wrap site handler POST/PUT/DELETE with CSRF validation when path is protected, (2) accept handler-level validation as sufficient for site mode. See server/site.go. |
| #16b | Function rest parameters | API Design | Needs design | Add support for function rest parameters (`fn(a, ...rest)`). Array and dictionary destructuring already support rest (see [pkg/parsley/parser/parser.go](pkg/parsley/parser/parser.go#L2788-L2834)). Spread in literals is still out-of-scope—use `++` for merges. |
| #17 | Standardize locale support across stdlib | FEAT-032/033 | Needs design | Define a standard set of locales (e.g., top 10-15 by usage/currency) and ensure consistent support across: dates (parsing/formatting), times, numbers (decimal/thousands separators), currency formatting, postal codes. Currently ad-hoc (US, GB, ISO). Need to decide: which locales, what coverage each gets, how to handle partial support. Consider: en-US, en-GB, de-DE, fr-FR, es-ES, ja-JP, zh-CN, pt-BR, ru-RU, ar-SA (roughly top 10 traded currencies). |
| #18 | CSV upload merge mode for /__/db | FEAT-021 | Not MVP | Current "Replace" overwrites entire table. Add "Merge" option that updates existing rows by primary key and inserts new ones. Use case: download CSV, edit non-BLOB columns, re-upload without losing BLOB data. UI: dropdown or separate button next to "Replace". |
| #19 | HTTP-only production mode (behind proxy) | Discussion | Needs design | Allow running without TLS when behind a reverse proxy (nginx, Cloudflare, etc.). Use case: proxy terminates TLS, Basil runs HTTP on localhost/internal IP but with production features (caching, generic errors). Consider: `https.mode: proxy` or `server.tls: false` with warning. Security: must validate proxy is trusted. Options: `--proxy` CLI flag, require `proxy.trusted: true`. |
| #20 | Separate dev errors from dev mode | Discussion | Needs design | Allow styled error pages independently of full dev mode. Use case: testing behind proxy with caching enabled but still seeing detailed errors. Options: `--dev-errors` flag, `server.dev_errors: true` config, or make dev mode more granular (`dev.errors: true`, `dev.caching: false`, etc.). |
| #21 | Form validation/sanitization | FEAT-002 | Needs design | Options: config-based schemas, Parsley-side validation, or sanitization-only. See spec Phase 2 checklist. |
| #22 | OAuth2/OIDC providers | FEAT-004 | Not MVP | Google, GitHub, etc. identity providers. Consider after passkey auth is stable. |
| #23 | SMS recovery (Twilio) | FEAT-004 | Not MVP | Recovery via SMS code. Simpler than email (no deliverability issues, just JSON API). Would need Twilio account config. Consider as primary "second factor" option. |
| #24 | Email recovery | FEAT-004 | Probably never | Magic link via email. Pain points: deliverability (SPF/DKIM/reputation), styling (1999 CSS), complexity. SMS is easier. |
| #25 | Multiple passkeys per user | FEAT-004 | Not MVP | Allow registering phone + laptop + YubiKey. Adds device management UI. |
| #26 | Roles/permissions | FEAT-004 | Not MVP | `request.user.role` and role-based route protection |
| #27 | Table.groupBy(column) | FEAT-018 | Not MVP | Complex aggregation, needs design for return type |
| #28 | Table.join(table, column) | FEAT-018 | Not MVP | SQL joins, needs careful design |
| #29 | Table column transforms | FEAT-018 | Not MVP | `transform(col, fn)`, `addColumn(name, fn)` |
| #30 | Table.distinct() | FEAT-018 | Not MVP | Deduplication |
| #31 | Table.first() / Table.last() | FEAT-018 | Not MVP | Single row access |
| #58 | Local module imports should not require `-x` | Examples audit | Sandbox policy needs revision | `-x` should only allow @shell execution; Parsley module imports (e.g., `import @./modules/foo.pars`) should be permitted without execute mode. Update sandbox semantics accordingly. |
| #34 | Error code documentation/help system | FEAT-023 | Phase 6+ | CLI command or web endpoint to look up error codes with examples/solutions. e.g., `pars error TYPE-0001` or `/__/errors/TYPE-0001`. |

| #89 | Assignment-capture patterns for statement-level I/O operators | FEAT-104 | Parser architecture change | Patterns like `result = data =/=> target` don't parse because write operators (`==>`, `=/=>`, etc.) are statement-level, not infix expressions. Supporting assignment-capture would require parser changes to allow assignment around statement-level operators. Applies equally to `==>`. |
| #90 | Custom message for `record.failIfInvalid(msg)` | FEAT-105 | Follow-up enhancement | Allow overriding the default "Validation failed" message: `record.failIfInvalid("Invalid user data")`. Currently hardcoded. |
| #91 | `record.toError()` — non-failing error conversion | FEAT-105 | Follow-up enhancement | Return the validation error dict without calling `fail()`, for cases where you want to inspect/modify before failing. E.g., `let errDict = record.toError()` then `errDict.message = "Custom"` then `fail(errDict)`. |
| #92 | Error catalog entry for VALIDATION code | FEAT-105 | Follow-up | `VALIDATION` code from `failIfInvalid()` is currently hardcoded. Could be registered in the error catalog for consistency with other error codes. |
| #93 | Enforce non-empty `message` in `fail(dict)` | FEAT-105 | Follow-up | `fail({message: ""})` currently succeeds — only checks key exists and type is string. Consider enforcing non-empty string for the `message` value. |
| #94 | Multiple `-e` flags for pars CLI | FEAT-106 | Enhancement | Support `pars -e "let x=1" -e "x+1"` to evaluate multiple code snippets in sequence. Currently can use semicolons within single `-e` argument. Would require concatenating code or evaluating sequentially with shared environment. |
| #95 | `pars --check` with stdin input | FEAT-106 | Enhancement | Support `pars --check -` to read and validate Parsley code from stdin. Useful for editor integration and pipelines. Would require detecting `-` as special filename. |
| #96 | JSON output format for `--check` | FEAT-106 | Tooling enhancement | Add `pars --check --json file.pars` to output structured error information in JSON format for tool integration (editors, CI/CD). Would need to serialize ParsleyError structs to JSON. |
| #97 | Named capture groups should return dictionaries | Backlog | Enhancement | Regex named capture groups like `(?P<name>\w+)` currently return an array (ignoring names). Should return a dictionary with named keys so results can be destructured: `let {first, last} = str ~ /(?P<first>\w+)\s+(?P<last>\w+)/`. Currently returns `["full match", "first", "last"]` instead of `{first: "...", last: "..."}`. |
| #98 | Tree-sitter: Complex regex escape handling | PLAN-092 | Parser limitation | Regex literals with `\/` escapes (e.g., `/^https?:\/\/.+/`) fail because the token-level regex pattern stops at the first `/`. Full fix requires external scanner to track escape sequences. Affects 2 example files with URL-matching regexes. |
| #99 | Tree-sitter: XML comment support | PLAN-092 | Parser limitation | `<!-- ... -->` inside tags are not parsed. Would need grammar rule or external scanner support. Affects svg_xml_demo.pars example. |
| #100 | Tree-sitter: HTML-like tags inside strings | PLAN-092 | Parser limitation | Edge case where `<tag>` appears inside a quoted string (e.g., `"text <code>more"</code>"`) causes ambiguous parsing. Tree-sitter sees `<code>` as tag start even inside string context. Affects 2 example files. Would require complex lookahead or string content redesign. |

## Low Priority / Nice to Have
| ID | Item | Source | Reason Deferred | Notes |
|----|------|--------|-----------------|-------|
| #65 | toBox() Phase 3 color option | FEAT-089 | Terminal complexity | `{color: true}` enables ANSI color output with TTY detection. Deferred due to terminal compatibility complexity. |
| #66 | Memoized computed exports | FEAT-096 | Enhancement | Add optional memoization for computed exports (e.g., `export cached computed x = ...` or `export computed x { memoize: true } = ...`). Currently computed exports recalculate on every access, which is correct for reactive values but wasteful for pure computations. Would require tracking dependencies or explicit cache invalidation. |
| #67 | IDE support for computed exports | FEAT-096 | Tooling | Update syntax highlighting (contrib/highlightjs/parsley.js) and any language server features to recognize `export computed` keyword combination. Low priority since basic highlighting works (computed is just an identifier until after export). |
| #68 | DevTools computed export visibility | FEAT-096 | Enhancement | DevTools module inspector could distinguish computed exports from static exports (e.g., icon or badge). Would help debugging by showing which values recalculate vs are cached. Requires DevTools to introspect DynamicAccessor type. |
| #69 | `autofocus` metadata for form binding | FEAT-097 | Related UX feature | Add `autofocus` metadata key (e.g., `| {autofocus: true}`) to auto-add HTML autofocus attribute. Related to form UX but separate scope from autocomplete. |
| #70 | `inputmode` metadata for form binding | FEAT-097 | Mobile enhancement | Add `inputmode` metadata for mobile keyboard hints (e.g., `| {inputmode: "numeric"}`). Related to form UX but separate scope from autocomplete. |
| #75 | PLN pretty-print CLI tool | FEAT-098 | Enhancement | Add `pars fmt file.pln` command for formatting PLN files with consistent indentation. |
| #76 | PLN VS Code syntax highlighting | FEAT-098 | Tooling | Update contrib/highlightjs/parsley.js for PLN syntax. May need separate PLN mode or extend Parsley mode. |
| #52 | Commutative duration multiplication | Reference audit | Quick fix | `@1d * 3` works but `3 * @1d` fails. Multiplication should be commutative for duration × integer. Fix in `evalInfixExpression` to handle integer * duration same as duration * integer. |
| #53 | Dictionary insert methods: dictionary value form | Reference audit | Enhancement | `dict.insertAfter(col, {key: val})` and `dict.insertBefore(col, {key: val})` should accept a dictionary to insert multiple key-value pairs at once. Since dictionaries are ordered, this enables merging one dict into another at a specific position: `dict.insertAfter("name", {middle: "Jane", suffix: "Jr"})`. |
| #54 | Builtin Table type | Reference audit | Language design | Make Table a builtin type rather than requiring `import @std/table`. Benefits: (1) `CSV()` and `parseCSV()` could return Table directly instead of Array of Dictionary, (2) Column type checking and validation, (3) Implementation flexibility—Go representation could be array-of-maps, map-of-arrays, or array-of-arrays with key access, (4) Cleaner API without import boilerplate. Currently users must do `table.table(csv.parseCSV())` which is awkward. Would require: new Table object type in evaluator, updating CSV parsing to return Table, migrating @std/table methods to builtin methods. |
| #55 | Deprecate `format(arr, style?, locale?)` builtin | Reference audit | API cleanup | The global `format(arr, style?, locale?)` function should be deprecated in favor of the array method `arr.format(style?, locale?)`. The method form is more consistent with Parsley's design (methods on values) and avoids the awkward pattern of passing the array as the first argument. Add deprecation warning when format() is called with array argument. |
| #56 | Expand catchable error types for `try` | Reference audit | Design discussion | Currently `try` only catches "external" errors (IO, Network, Format, Value, Database, Security). Should more error types be catchable? E.g., division by zero (`x/0`) currently propagates—should it be catchable? Arguments for: allows defensive programming, matches other languages. Arguments against: division by zero is a logic bug (divisor should be validated), catching masks bugs. Consider: (1) new error class for math errors, (2) opt-in syntax like `try!` for catching all errors, (3) keep current design. Current philosophy: catchable = external factors; non-catchable = developer bugs that should fail loudly. |
| #57 | Rename `@std/dev` to `@basil/log` | Reference audit | API cleanup | The `@std/dev` module provides development logging for Basil server context. It should be renamed to `@basil/log` because: (1) it requires Basil server context so belongs in `@basil/` namespace not `@std/`, (2) "dev" is vague while "log" describes its purpose, (3) aligns with `@basil/http` and `@basil/auth` naming convention. Update stdlib_table.go module registry, docs, and add deprecation alias for `@std/dev`. |
| #35 | Full CLDR compact number formatting | FEAT-048 | Library limitation | `humanize()` uses English suffixes (K, M, B) with locale-aware decimal formatting. True CLDR would give locale-specific suffixes (German "Mio.", Japanese "万"). Go's `golang.org/x/text` doesn't expose CLDR compact forms directly. K/M/B is industry standard (YouTube, Twitter, GitHub). Revisit if CJK locale support becomes important. |
| #36 | Fragment cache DevTools integration | FEAT-037 | Not MVP | Add `/__/cache` page showing cache stats (entries, hits, misses, hit rate, size) with clear button. `FragmentCacheStats` and `Stats()` method already exist in `fragment_cache.go`. |
| #37 | Search benchmark tests | FEAT-085 | Not blocking release | Add Go benchmark tests for search performance validation: BenchmarkIndexDocument, BenchmarkBatchIndex, BenchmarkSearchSimple, BenchmarkSearchComplex, BenchmarkSearchScale (100/1K/10K docs). Validates <10ms query target. Add `make bench` to Makefile. Estimated 2-4 hours. Not blocking production since manual testing shows all targets met. |
| #37 | std/math: Advanced statistics | FEAT-031 | Niche | percentile, quartile, correlation, z-score - add based on demand from data-focused users |
| #38 | std/math: Hyperbolic functions | FEAT-031 | Niche | sinh, cosh, tanh - rare use case for most users |
| #39 | std/math: Special functions | FEAT-031 | Niche | gamma, factorial - mathematical niche |
| #40 | SPREAD-0001 error missing line numbers | Error improvements | Needs refactoring | Error is inside `parseTagProps` string parsing function which doesn't have access to a token. Would need to pass token through or refactor to track position during parsing. |
| #41 | Admin interface | FEAT-002 | Premature | Needs auth first, unclear requirements. Built with Parsley when needed. |
| #42 | Key scopes | FEAT-004 | Not MVP | Limit what API keys can access (read-only, specific routes, etc.) |
| #43 | API key expiry flag | FEAT-036 | Not MVP | Schema has `expires_at` but no CLI flag. Add `--expires` to `basil apikey create`. |
| #44 | Argon2 for API key hashing | FEAT-036 | Not MVP | Currently bcrypt. Argon2 is more GPU-resistant. Revisit if key validation perf becomes an issue. |
| #45 | Custom error pages | Dev mode 404 | Polish | Allow users to define custom 404/500 pages for production via config (e.g., `error_pages: { 404: ./errors/404.pars }`). Dev mode already has styled pages. |
| #46 | Better import error messages | BUG-010 | Parser work | When import fails, report which path was tried and from which file. e.g., "Module not found: ./app/pages/components/page.pars (imported from ./app/pages/home.pars line 1)" |
| #47 | Dev logs: JS-based clear without page reload | FEAT-019 | Polish | Currently clear redirects, which re-runs handler dev.log() calls. Use fetch() + DOM update instead. |
| #48 | Dev logs: pause/resume toggle | FEAT-019 | Polish | Temporarily stop collecting logs without clearing. Useful when debugging specific requests. |
| #49 | Dev logs: `.json` modifier for formatted JSON | FEAT-019 | Not MVP | `dev.log(data, {json: true})` renders value as formatted/syntax-highlighted JSON. |
| #50 | Error code validation tests | FEAT-023 | Phase 6+ | Test suite to ensure all error codes in errors.go are actually used, and all newStructuredError calls use valid codes. Prevents drift between defined and used codes. |
| #51 | Function methods | API Design | Future exploration | Allow methods on functions for composition, introspection, memoization. Examples: `f.arity`, `f.params`, `f.then(g)`, `f.memoize()`, `f.partial(arg)`. Would enable fluent auth syntax like `fn(req){...}.public()`. Implementation: functions as "callable dictionaries" with `__call__` property. Low priority - wrapper functions work fine. |

## Completed (Archive)
<!-- Move items here when done, with completion date -->
| ID | Item | Source | Completed | Notes |
|----|------|--------|-----------|-------|
| #98 | Fix introspection drift: 6 missing methods | FEAT-110 | 2026-02-11 | ✅ Implemented all 6 missing methods: `integer.abs()`, `float.abs()`, `float.round(decimals?)`, `float.floor()`, `float.ceil()`, `money.negate()`. Added comprehensive tests in methods_missing_test.go. All validation tests now pass. Methods work correctly with chaining and error handling. |
| #85 | Pretty-printer: Tag attribute multiline | FEAT-100 | 2026-01-22 | ✅ Added `TagAttribute` AST type, parser extracts attributes into structured nodes, formatter breaks long attribute lists to multiline with each attribute on its own line. Tags with multiline attributes also use multiline content. Implemented in ast.go, parser.go, ast_format.go. |
| #84 | Pretty-printer: Comment preservation | FEAT-100 | 2026-01-21 | ✅ Lexer now captures comments in `Token.LeadingComments` and blank lines in `Token.BlankLinesBefore`. Formatter outputs comments and preserves single blank lines (collapses multiple to 1 like gofmt). |
| #86 | Pretty-printer: @table formatting | FEAT-100 | 2026-01-21 | ✅ Format `@table` and `@table(Schema)` literals with multiline rows. Single short rows inline, multiple rows each on own line. Implemented in ast_format.go formatTableLiteral(). |
| #81 | Pretty-printer: Query DSL formatting | FEAT-100 | 2026-01-21 | ✅ Format `@query()`, `@insert()`, `@update()`, `@delete()`, `@transaction` with multiline rules. Table on own line, clauses indented, string values properly quoted. Implemented in ast_format.go. |
| #83 | `pars fmt` CLI command | FEAT-100 | 2026-01-21 | ✅ Format Parsley source files via CLI. Supports `-w` (write), `-d` (diff), `-l` (list). Integrated in cmd/pars/main.go. |
| #77 | Pretty-printer: Control flow formatting | FEAT-100 | 2026-01-21 | ✅ if/else, for expressions with threshold-based inline/multiline. Implemented in ast_format.go. |
| #78 | Pretty-printer: Method chain formatting | FEAT-100 | 2026-01-21 | ✅ Format `a.b().c()` chains with 60-char threshold. Multiline chains break after each method. Implemented in ast_format.go. |
| #79 | Pretty-printer: Tag formatting | FEAT-100 | 2026-01-21 | ✅ TagLiteral and TagPairExpression formatting with content detection for inline/multiline. Implemented in ast_format.go. |
| #80 | Pretty-printer: Schema definition formatting | FEAT-100 | 2026-01-21 | ✅ @schema declarations with one field per line. Implemented in ast_format.go formatSchemaDeclaration(). |
| #82 | Pretty-printer: REPL integration | FEAT-100 | 2026-01-21 | ✅ `ObjectToFormattedReprString()` in eval_string_conversions.go, REPL updated in repl.go. Arrays/dicts/functions now pretty-print with multiline support when exceeding 60-char threshold. |
| #6 | Support for `else if` in Parsley | FEAT-057 | 2025-12 | ✅ Implemented in parser.go line 1841-1856. Parser recursively handles `else if` chains. |
| #11 | Remove `@std/basil` error before Alpha | FEAT-071 | 2025-12 | ✅ Implemented in stdlib_table.go line 37-42. Now returns proper import error directing users to `@basil/http` or `@basil/auth`. |
| #21 | Form validation/sanitization | FEAT-002/FEAT-032 | 2025-12 | ✅ Implemented as `@std/valid` module with comprehensive validators. See FEAT-032.md. |
| #32 | Table.toJSON() | FEAT-018 | 2025-12 | ✅ Implemented in stdlib_table.go line 1218-1256. Renders table as JSON array of objects. |
| #33 | Table.fromCSV(string) | FEAT-018 | Not applicable | CSV parsing into Table already supported via `let table = import "./data.csv"` - no separate method needed. |
| #5 | Parameterized queries for raw SQL operators | QUERY-BUILDER-INVESTIGATION | 2026-01-08 | ✅ **ALREADY IMPLEMENTED** - The raw SQL operators (`<=?=>`, `<=??=>`, `<=!=>`) DO support parameterized queries via `<SQL>` tag. See eval_database.go lines 211-232: `extractSQLAndParams()` extracts both SQL string and params dict. The `<SQL params={...}>` syntax works correctly. Documentation in security.md line 392. Query DSL (TableBinding) also uses `?` params internally. Item was based on outdated understanding. |
| #8 | Include schema name in validation errors | QUERY-BUILDER-INVESTIGATION | 2026-01-08 | ✅ Implemented in [stdlib_schema.go](pkg/parsley/evaluator/stdlib_schema.go#L268-L587). Schema name extracted from `.name` property and threaded through all validation functions. Errors now include `schema` field and prefixed messages (e.g., "User schema: Field is required"). Tests updated in [stdlib_schema_test.go](pkg/parsley/tests/stdlib_schema_test.go#L349-L371). |
| #16a | Array rest destructuring | API Design | 2026-01-08 | ✅ Array rest destructuring is supported via `parseArrayDestructuringPattern` ([pkg/parsley/parser/parser.go#L2788-L2834](pkg/parsley/parser/parser.go#L2788-L2834)). Dict rest destructuring already works; literal spreads remain out-of-scope (use `++` for merges). |
| #59 | Add `path()` dynamic constructor | FEAT-087/FEAT-090 | 2026-01-14 | ✅ Implemented in evaluator.go as part of FEAT-090 Phase 7. Accepts string argument, creates path via parsePathString(). |
| #60 | Add `duration()` dynamic constructor | FEAT-087 | 2026-01-14 | ✅ Implemented in evaluator.go. Accepts string (`duration("1d2h")`) or dictionary (`duration({days: 1})`). Tests in duration_test.go. Docs in reference.md section 6.10. |
| #61-64 | toBox() Phase 2 options (style, title, maxWidth) | FEAT-089 | 2026-01-14 | ✅ Implemented in eval_box.go. Style presets (single/double/ascii/rounded), title row, maxWidth truncation. Color deferred to Phase 3 (#65). Tests in tobox_options_test.go. Docs updated in reference.md. |
| #71 | PLN Part props auto-serialization | FEAT-098 | 2026-01-15 | ✅ Auto-serialize complex Part props to PLN, deserialize on receipt. HMAC signing in session_crypto.go, PLN encoding in eval_tags.go, JS runtime updates in handler.go, PLN deserialization in parts.go. |
| #72 | PLN Record serialization (@Schema syntax) | FEAT-098 | 2026-01-14 | ✅ Records serialize as `@Schema({...})`. Implemented in PLN Phase 3 (serializer.go). |
| #73 | PLN DateTime serialization (@ISO format) | FEAT-098 | 2026-01-14 | ✅ Datetimes serialize as `@2024-01-20T10:30:00Z`. Implemented in PLN Phase 3. |
| #74 | PLN Path/URL serialization (@ prefix) | FEAT-098 | 2026-01-14 | ✅ Paths as `@/path/to/file`, URLs as `@https://example.com`. Implemented in PLN Phase 3. |
