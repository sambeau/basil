---
id: BUG-001
title: "Aggressive script caching prevents live editing in dev mode"
status: open
severity: medium
created: 2025-11-30
reporter: "@human"
---

# BUG-001: Aggressive script caching prevents live editing in dev mode

## Summary
Parsley scripts are cached and require a server restart to see changes, even in dev mode where no caching should occur.

## Observed Behavior
- Edit a Parsley script while the server is running
- Refresh the browser
- The old version of the script is served
- Server restart is required to see changes

## Expected Behavior
- **Dev mode (`--dev`)**: No caching at all - scripts and static files should be reloaded on every request
- **Production mode**: Static files cached with TTL; Parsley scripts NOT cached by default (they're dynamic)

## Reproduction Steps
1. Run `basil --dev --config basil.yaml` in `examples/hello`
2. Visit `http://localhost:8080/`
3. Edit `handlers/index.pars` (e.g., change the greeting text)
4. Refresh the browser
5. Old content is still shown
6. Must restart server to see changes

## Environment
- OS: macOS
- Go version: 1.21+
- Basil version: Phase 1 MVP (feat/FEAT-002-basil-server branch)

---
<!-- BELOW THIS LINE: AI-FOCUSED INVESTIGATION DETAILS -->

## Investigation Notes
*Added during investigation*

### Root Cause
TBD

### Affected Code
- `server/handler.go` â€” scriptCache implementation

## Resolution
*Added after fix*

### Fix Description
TBD

### Test Coverage
TBD

## Related
- Fix commit: TBD
- Related features: FEAT-002 (Basil Web Server)
